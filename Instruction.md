Структура проекта:

benchmark
    build
        aarch64
        amd64
        riscv64
        upx_amd
        upx_arm
        upx_riscv
    config
        sources
    logs
        amd
        arm
        riscv
        upx_amd
        upx_arm
        upx_riscv
    scripts


Как пользоваться данной версией бенчмарка:
(Все скрипты запускаются из директории benchmark)

1. В папке config должен лежать файл sources.txt с ссылками на архивы или репозитории.
2. Запускаем файл fetch_sources.sh, который распакует нам файлы, заодно проверяя сможет ли бенчмарк их собрать (отсеивает часть файлов которые не получится скомпилировать и выводить информацию об успехе или неудаче)
3. Запускаем файл build_benchmark.sh с указанием архитектуры, компилятора, флага компилятора. В результате работы в build появится папка с .c файлами, которые были собраны с учётом переданных аргументов.
4. Запускаем для нужной архитектуры один из соответствующих скриптов amd/arm/riscv_run_test.sh. После этого появится в build появится папка upx_[amd/arm/riscv] в которой будут хранится сжатые исполняемые файлы.
5. Далее запускаем collect_strace.sh. В папке logs появится директория с файлами, которые содержат системные вызовы файла.
6. Для проверки является ли файл сжатым нужно запустить simple_detector.sh. Этот скрипт берёт не сам файл, а логи и проверяет системные вызовы. Таким образом можно передать папку, файлы которой будут проверены на наличие сжатия.